<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>パズドラ定石メーカーのルート計算サイト</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>  
</head>
<body>

<p>パズドラ定石メーカーのルート計算サイトです。ggg</p>

<form>
<label>layout=<input type="text" id="layout"></label>
<button value="submit" type="submit">計算</button>
</form>
  
<p id="msg"></p>
  
<a href="#" onclick="redirect();">計算結果</a>

<script>

$('form').submit(function(){

    var obj = $('form').serializeJSON();

    $.ajax({
        type: 'POST',
        url: 'https://wandbox.org/api/compile.json',
        dataType: 'json',
        data: JSON.stringify(
        "code":"#include <iostream>\nint main() { int x = 0; std::cout << \"hoge\" << std::endl; }",
          "options": "gnu++11",
          "compiler": "gcc-head",
          "compiler-option-raw": "-O2" 
        ),
        contentType : 'application/json',
        success: function(data) {
            alert(data);
        }
    });
});
function redirect(){
    location.href = 'http://serizawa.web5.jp/puzzdra_theory_maker/index.html?layout=' + layout.value + '&route=null&ctwMode=false';;
}

let layout = document.getElementById('layout');
layout.value = '';
let msg = document.getElementById('msg');
let checkButton = document.getElementById('checkButton');
checkButton.addEventListener('click', buttonClick);
</script>

</body>
</html>
